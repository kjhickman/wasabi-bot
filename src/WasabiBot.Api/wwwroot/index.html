<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Wasabi Bot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <meta name="description" content="Sign in with Discord to manage your Wasabi Bot API access.">
    <base href="./">
    <link rel="stylesheet" href="css/pico.green.min.css">
    <link rel="modulepreload" href="app.js">
    <script type="module" src="app.js"></script>
</head>
<body>
    <main class="container">
        <section id="unauthenticated" hidden aria-labelledby="unauthenticated-heading">
            <article>
                <header>
                    <h1 id="unauthenticated-heading">Wasabi Bot</h1>
                </header>
                <p>Connect your Discord account to generate a token for the Wasabi Bot API.</p>
                <footer>
                    <a id="login-link" href="auth/login-discord" role="button" class="contrast">Sign in with Discord</a>
                </footer>
            </article>
        </section>

        <section id="authenticated" hidden aria-labelledby="authenticated-heading">
            <article>
                <header style="display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;">
                    <h1 id="authenticated-heading" style="margin:0;">Wasabi Bot</h1>
                    <button id="logout-button" type="button" class="secondary" style="width:auto; align-self:flex-start;">Log out</button>
                </header>

                <section aria-labelledby="token-heading">
                    <hgroup>
                        <h2 id="token-heading">Hello, <span id="user-greeting"></span></h2>
                        <p>Generate a short-lived token to authenticate with the Wasabi Bot API (lasts 1 hour)</p>
                    </hgroup>
                    <button id="generate-token" type="button" class="contrast" style="width:auto;">Generate Token</button>
                    <div id="token-panel" hidden>
                        <p style="margin-bottom:0.25rem;">Your token:</p>
                        <pre id="token-output" style="white-space:pre-wrap; word-break:break-all; overflow:auto; margin:0; padding:0.75rem; border:1px solid currentColor; border-radius:0.5rem;"></pre>
                        <button id="copy-token" type="button" class="outline" style="width:auto; margin-top:0.75rem;">Copy token</button>
                    </div>
                </section>
            </article>
        </section>

        <aside id="status-message" role="status" aria-live="polite" hidden></aside>
    </main>
</body>
</html>
