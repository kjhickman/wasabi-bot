@page "/"
@using Microsoft.AspNetCore.Components.Forms

@if (!IsAuthenticated)
{
    <section id="unauthenticated" aria-labelledby="unauthenticated-heading">
        <article>
            <header>
                <h1 id="unauthenticated-heading">Wasabi Bot</h1>
            </header>
            <p>Connect your Discord account to generate a token for the Wasabi Bot API.</p>
            <footer>
                <a id="login-link" href="/auth/login-discord" role="button" class="secondary">Sign in with Discord</a>
            </footer>
        </article>
    </section>
}
else
{
    <section id="authenticated" aria-labelledby="authenticated-heading">
        <article>
            <header style="display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;">
                <h1 id="authenticated-heading" style="margin:0;">Wasabi Bot</h1>
                <form action="/auth/logout" method="post" style="margin:0;">
                    <button id="logout-button" type="submit" class="contrast" style="width:auto; align-self:flex-start;">Log out</button>
                </form>
            </header>

            <TokenGenerator DisplayName="@DisplayName" />
        </article>
    </section>
}

